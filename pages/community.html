<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>커뮤니티</title>
    <link rel="stylesheet" href="../styles/community.css" />
    <link rel="stylesheet" href="../styles/entire.css" />
  </head>

  <body>
    <div class="container">
      <!-- 사이드바 -->
      <aside class="sidebar">
        <div class="logo-wrapper">
          <img
            src="../images/리프리 사이드바.png"
            alt="로고"
            class="logo-image"
          />
        </div>
        <nav>
          <ul>
            <li>
              <a href="../pages/myMealPage.html">
                <img class="side-icon" src="/images/myMeal.svg" />나의 식단</a
              >
            </li>
            <li>
              <a href="../pages/report.html">
                <img src="/images/report.svg" class="side-icon" /> 리포트
              </a>
            </li>
            <li>
              <a href="../pages/community.html" class="active">
                <img src="/images/community.svg" class="side-icon" /> 커뮤니티
              </a>
            </li>
            <li>
              <a href="../pages/myPage.html"
                ><img class="side-icon" src="/images/myPage.svg" />마이페이지</a
              >
            </li>
          </ul>
        </nav>
        <a href="#" class="logout-link"
          ><img class="side-icon" src="/images/exit.svg" />로그아웃</a
        >
      </aside>

      <!-- 메인 콘텐츠 -->
      <main class="main-content">
        <!-- 게시글 영역 -->
        <section class="community-wrapper">
          <h2 class="community-title" id="tag-title">전체</h2>
          <div id="post-container"><!--여기 안에 post 들어옴--></div>

          <!-- 페이지네이션 -->
          <div class="pagination">
            <button id="prev-page">〈</button>
            <span id="page-info">1 / 1</span>
            <button id="next-page">〉</button>
          </div>
        </section>

        <!-- 오른쪽 패널 -->
        <aside class="right-panel">
          <div class="right-box search-section">
            <div class="search-bar">
              <input type="text" id="search-input" />
              <button id="search-btn">🔍</button>
            </div>
            <div class="hashtags vertical">
              <span class="tag red" data-tag="QUESTION"># 식단 질문</span>
              <span class="tag blue" data-tag="RECOMMEND"># 식단 추천</span>
              <span class="tag green" data-tag="ANSWER"># 식단 인증</span>
              <span class="tag gray" data-tag="ETC"># 기타</span>
            </div>
          </div>
          <div class="quick-actions">
            <div class="action-box" id="view-scrap-posts">⭐ 저장한 게시물</div>
            <div class="action-box">🕒 내 활동</div>
          </div>
          <button class="write-btn">✏ 글 작성하기</button>

          <!-- 팝업 -->
        </aside>
      </main>
    </div>

    <!-- 글 작성 팝업 -->
    <div class="popup-overlay">
      <div class="popup">
        <h2>태그</h2>
        <div class="popup-tags">
          <span class="tag red" data-tag="식단 질문"># 식단 질문</span>
          <span class="tag blue" data-tag="식단 추천"># 식단 추천</span>
          <span class="tag green" data-tag="식단 인증"># 식단 인증</span>
          <span class="tag gray" data-tag="기타"># 기타</span>
        </div>
        <h2>제목</h2>
        <input type="text" />
        <h2>본문</h2>
        <div class="popup-textarea-wrapper">
          <textarea id="postContent" maxlength="2000"></textarea>
          <div class="char-count" id="charCount">0 / 2000</div>
        </div>
        <div class="popup-file-upload-wrapper">
          <label class="popup-file-upload">
            📎 파일 업로드
            <input type="file" multiple />
          </label>
          <span class="file-note">*최대 5장</span>
        </div>
        <div class="popup-buttons">
          <button class="cancel-btn">취소</button>
          <button class="submit-btn">올리기</button>
        </div>
      </div>
    </div>

    <div class="detail-overlay hidden">
      <div class="detail-popup">
        <!-- 닫기 버튼 -->
        <button class="close-detail">&times;</button>

        <!-- 상단 헤더: 프로필, 작성자, 시간 -->
        <div class="detail-header">
          <div class="profile-circle"></div>
          <div class="author-info">
            <span class="post-author" id="detail-author">유저a</span>
            <span class="post-time" id="detail-time">3분 전</span>
          </div>
          <div class="detail-tags" id="detail-tags"></div>
        </div>

        <!-- 제목 + 본문 -->
        <div class="detail-title" id="detail-title">게시글 제목</div>
        <div class="detail-body" id="detail-body">게시글 본문</div>

        <!-- 이미지 미리보기 -->
        <!-- 이미지 미리보기 -->
        <div id="detail-images">
          <!-- JS가 여기에 화살표 포함한 캐러셀 혹은 단순 이미지 박스를 삽입 -->
        </div>

        <!-- 좋아요 / 댓글 수 / 저장 버튼 우측 정렬 -->
        <div class="detail-actions">
          <div class="detail-comment-count">
            ❤️ <span id="detail-likes-count">0</span> 💬
            <span id="detail-comments-count">0</span> ⭐
            <span id="detail-saves-count">0</span>
          </div>
          <div class="detail-buttons">
            <button id="like-btn">좋아요</button>
            <button id="save-btn">저장</button>
          </div>
        </div>

        <!-- 댓글 영역 -->
        <div class="detail-comments" id="detail-comments">
          <!-- 자바스크립트로 댓글 box와 대댓글 box 삽입 -->
        </div>

        <!-- 댓글 입력창 -->
        <div class="comment-input-box">
          <input
            type="text"
            id="main-comment-input"
            class="comment-input"
            placeholder="댓글을 입력하세요."
          />
          <button id="submit-main-comment" class="comment-submit">등록</button>
        </div>
      </div>
    </div>

    <!-- 스크립트 -->
    <script src="../scripts/accessApi.js"></script>
    <script src="../scripts/logout.js"></script>
    <script src="../scripts/community.js"></script>
  </body>
</html>
